<!DOCTYPE html>
<html>
<head>
	<title>Chuck API</title>
</head>
<style type="text/css">
	.row {
		display: inline-block;
		margin: 0 5px;
	}

	body{
		margin: 0;
	}
	a {
    color: inherit;
    text-decoration: none;
   }
   .list li{
   	border: 1px solid white;
   	padding: 5px
   }
</style>
<body style="background-color: black;color: white;text-align: center;">

	<nav style="text-align: center;">
		<ul style="list-style: none;display: flex;justify-content: center;">
			<a href="../index.html"><li style="margin-right: 5px">Home</li></a>
			<a href="../about.html"><li style="margin: 0 5px">About</li></a>
			<a href="../project.html"><li style="margin: 0 5px">Project</li></a>
		</ul>
	</nav>
	<hr>


<p class="joke"></p>
<ul class="list"></ul>
<form class="nope">
	<label>Category By Search</label><br><br>
	<input class="search-cat" type="text" name="">
	<input type="submit" name="">
</form>
<p class="result"></p>
<hr>

<form class="keyword">
	<label>Search Anything</label><br><br>
	<input class="search" type="text" name="">
	<input type="submit" name="">
</form>
<p class="searh-para"></p>
<hr>


	<script type="text/javascript">

		// DEFINE
		x = document.querySelector('.joke')
		a = document.querySelector('.list')
		b = document.querySelector('.nope')
		c = document.querySelector('.search-cat')
		e = document.querySelector('.result')
		f = document.querySelector('.keyword')
		g = document.querySelector('.search')
		j = document.querySelector('.searh-para')

		// JUST THE JOKE OF CHUCK
		// fetch('https://api.chucknorris.io/jokes/random').then((resp) => resp.json()).then(function (data) {
		// 	console.log(data);
		// 	console.log(data.value);
		// 	x.innerHTML = data.value;
		// })

		// CATEGORIES BITCH
		fetch('https://api.chucknorris.io/jokes/categories').then((cat) => cat.json()).then(function (categories){
			console.log(categories);
			for (var i = 0; i < categories.length; i++) {
				y = categories[i];
				z = document.createElement('li');
				z.classList.add('row')
				z.innerHTML = y
				a.appendChild(z);
			}
		})

		b.onsubmit = function(event){
			event.preventDefault();
			d = c.value;
			fetch('https://api.chucknorris.io/jokes/random?category=' + d).then((done) => done.json()).then(function (search_result){
				console.log(search_result)
				e.innerHTML = search_result.value;
			})	
		}

		f.onsubmit = function(that){
			that.preventDefault();
			h = g.value;
			fetch('https://api.chucknorris.io/jokes/search?query=' + h).then((get) => get.json()).then(function (display_search){
				console.log(display_search.result[0].value)
				j.innerHTML = display_search.result[0].value;
			})

		}





	</script>
</body>
</html>